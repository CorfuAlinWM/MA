var PromoModalComponentConstants={KEY:"MODAL_",VALUE:"true"},PromoModalComponent=function(n,t,i){function r(t){var i=this;i.element=t;i.$element=n(i.element);i.$template=i.$element.find("[data-ref=template]");i.promoCssClass=n(i.element).data("promo-css-class");i.modalId=PromoModalComponentConstants.KEY+i.$element.data("modal-id");n(function(){i.Init()})}return r.prototype.Init=function(){var r=this,u;r.isPageEditor()||n.cookie(r.modalId)===PromoModalComponentConstants.VALUE||(u=t.GetOrAddComponent(i),u.OnOpen(function(t){t.find("a[data-down-load-mobile-app]").each(function(){var t=n(this),i=r.getMobileOS();i==="iOS"?t.attr("href",t.data("apple-app")):i==="Android"&&t.attr("href",t.data("google-app"))})}),u.Open(r,r.$template.html(),r.promoCssClass),window.localStorage.setItem(r.modalId,PromoModalComponentConstants.VALUE),n.cookie(r.modalId,PromoModalComponentConstants.VALUE,{expires:30}))},r.prototype.isPageEditor=function(){return typeof Sitecore=="undefined"?!1:!!(Sitecore&&Sitecore.PageModes&&Sitecore.PageModes.PageEditor)},r.prototype.getMobileOS=function(){var n=navigator.userAgent;return/android/i.test(n)?"Android":/iPad|iPhone|iPod/.test(n)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?"iOS":"Other"},t.RegisterAutoCreateComponent({selector:"PromoModalComponent",type:r}),r}(jQuery,ComponentsFactory,ModalDialogFlexible)