var BasketTransferNotificationConstants={BASKET_LOCATION_KEY:"basket_location"},BasketTransferNotification=function(n,t,i){function r(t){var i=this;i.element=t;i.$element=n(t);n(function(){i.Init()})}return r.prototype.Init=function(){var r=this,u,f;console.log("BasketTransferNotification is initialized");r.location=r.$element.data("location");r.hasProducts=r.$element.data("cart-has-products");n(document).off("basket:transfer:update").on("basket:transfer:update",function(){r.ReInit()});if(!r.hasProducts){window.localStorage.removeItem(BasketTransferNotificationConstants.BASKET_LOCATION_KEY);return}u=window.localStorage.getItem(BasketTransferNotificationConstants.BASKET_LOCATION_KEY);window.localStorage.setItem(BasketTransferNotificationConstants.BASKET_LOCATION_KEY,r.location);u&&r.location&&u!=r.location&&(window.localStorage.setItem(BasketTransferNotificationConstants.BASKET_LOCATION_KEY,r.location),f=t.GetOrAddComponent(i),f.Open(r.$element,r.$element.find("[data-ref=template-container]").html(),"cpt-basket-transfer-modal"))},r.prototype.ReInit=function(){var t=this,i=t.$element.data("action-url");n.ajax({url:i,method:"GET"}).done(function(n){if(n){var i=t.$element.parent();t.$element.replaceWith(n);t.$element=i.find("[data-component=BasketTransferNotification]");t.element=t.$element[0];t.Init()}})},t.RegisterAutoCreateComponent({selector:"BasketTransferNotification",type:r}),r}(jQuery,ComponentsFactory,ModalDialogSmall,Handlebars)